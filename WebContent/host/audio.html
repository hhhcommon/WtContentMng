<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>声音管理</title>
<meta name="keywords" content="">
<meta name="description" content="">
<link href="../resources/plugins/hplus/css/bootstrap.min.css"
	rel="stylesheet">
<link href="../resources/plugins/hplus/css/font-awesome.min.css"
	rel="stylesheet">
<link href="../resources/plugins/hplus/css/animate.min.css"
	rel="stylesheet">
<link href="../resources/plugins/hplus/css/style.min.css"
	rel="stylesheet">
<link href="../resources/css/host.css" rel="stylesheet">
</head>
<body class="gray-bg">
	<div class="wrapper wrapper-content">
		<div class="row">
			<div class="col-sm-12">
				<div class="tabs-container">
					<div class="tab-content">
						<div id="tab-1" class="tab-pane active">
							<div class="panel-body">
								<div class="row">
									<div class="col-sm-8 actList"></div>
									<div class="col-sm-4 text-center"
										style="border-left: 2px solid #f3f3f4">
										今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br /> 今日热点<br />
										<br />
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- 全局js -->
	<script src="../resources/plugins/hplus/js/jquery-2.1.1.min.js"></script>
	<script src="../resources/plugins/hplus/js/bootstrap.min.js"></script>
	<!-- 自定义js -->
	<script src="../resources/plugins/hplus/js/content.min(1).js"></script>

	<script src="../resources/js/context.utils.js"></script>
	<script src="../resources/js/host.js"></script>
	<!-- jQuery Validation plugin javascript-->
	<script src="../resources/plugins/hplus/js/plugins/validate/jquery.validate.min.js"></script>

	<script>
		$().ready(
						function() {
							//获取列表
							getAudioList("123", "wt_MediaAsset");
							function getAudioList(UserId, MediaType) {
								$.ajax({
											type : "POST",
											url : "http://localhost:908/CM/content/getHostContents.do",
											dataType : "json",
											data : JSON.stringify({
												"UserId" : UserId,
												"MediaType" : MediaType
											}),
											beforeSend : function() {
												$(".actList").html("<div style='text-align:center;height:300px;line-height:200px;'>数据加载中...</div>")
											},
											success : function(ContentList) {
												if (ContentList.ReturnType == "1001") {
													$(".actList").html(""); //再重新创建新的数据集时，先清空之前的
													ContentListLoad(ContentList);
												} else {
													$(".actList").html("<div style='text-align:center;height:300px;line-height:200px;'>"+ ContentList.Message)+ ")";
												}
											},
											error : function(jqXHR) {
												$(".actList").html("<div style='text-align:center;height:300px;line-height:200px;'>获取数据发生错误："+ jqXHR.status+ "</div>");
											}
										});
							}

							//创建节目列表DOM树
							function ContentListLoad(actList) {
								var actListLength = actList.ResultList.AllCount;
								if (actListLength == 0) {
									$(".actList").html("<div style='text-align:center;height:500px;line-height:300px;'>还没有创建节目哦！</div>");
								} else {
									//声明下面需要创建的节点，以便添加内容和添加到文档中
									var actListDiv, listDiv, imgDiv, thumbImg, conDiv, conH, conHspan, conP1, conP2, conSpan1, conSpan2;
									//循环加载列表
									for (var i = 0; i < actListLength; i++) {
										listDiv = $("<div class='listBox'></div>");
										imgDiv = $("<div class='listImg'>");
										thumbImg = $("<img alt='image'>");
										thumbImg.attr({'src' : actList.ResultList.List[i].ContentImg});
										conDiv = $("<div class='listCon'>");
										conH = $("<h3></h3>");
										conP1 = $("<p class='secTitle'></p>");
										conP1.text(actList.ResultList.List[i].ContentDesc);
										imgDiv.append(thumbImg);
										//根据类型显示不同的标记
										conH.text(actList.ResultList.List[i].ContentName);
										conDiv.append(conH).append(conP1);
										listDiv.append(imgDiv).append(conDiv);
										$(".actList").append(listDiv);
									}
								}
							}

						});
	</script>
</body>
</html>