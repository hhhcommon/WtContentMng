<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>我听FM</title>
        <meta name="keywords" content="">
        <meta name="description" content="">
        <link href="./css/bootstrap.min.css" rel="stylesheet">
        <link href="./css/font-awesome.min.css" rel="stylesheet">
        <link href="./css/animate.min.css" rel="stylesheet">
        <link href="./css/style.min.css" rel="stylesheet">
        <script src="./js/jquery-2.1.1.min.js"></script>
        <script>
            //if(window.top !== window.self){ window.top.location = window.location;}
            $(function(){
                //点击登录按钮
                $(".loginBtn").bind("click",function(){
                    $.ajax({
                        type: "POST",    
                        url: "http://192.168.1.19:8080/wt/passport/user/login.do",
                        dataType: "json",
                        data: {
                            userName: $("input:first").val(), 
                            password: $("input:last").val()
                        },
                        success: function(data) {
                            if (data.ReturnType=="1001") {
                                alert("正确，即将进入后台！");
                                window.location.href="./index_wt.html";
                            } else {
                                alert("账户或密码有误:"+data.message);
                            }  
                        },
                        error: function(jqXHR){     
                           alert("发生错误：" + jqXHR.status);
                           /*
                            jqXHR.status状态码解析
                            0 - (未初始化)还没有调用send()方法
                            1 - (载入)已调用send()方法，正在发送请求
                            2 - (载入完成)send()方法执行完成，
                            3 - (交互)正在解析响应内容
                            4 - (完成)响应内容解析完成，可以在客户端调用
                           */
                        },     
                    });
                    //return false;
                });

                    /*
                   var data={
                              "menuList": [
                                {
                                  "itemList": [
                                    {
                                      "menuListId": "353434344",
                                      "menuListName": "待审核",
                                      "menuListStatus": "0",
                                      "menuListUrl":"./html/table_data_tables.html"
                                    },
                                    {
                                      "menuListId": "353242344",
                                      "menuListName": "已审核",
                                      "menuListStatus": "1",
                                      "menuListUrl":"./html/publish.html"
                                    },
                                    {
                                      "menuListId": "351111344",
                                      "menuListName": "未通过",
                                      "menuListStatus": "2",
                                      "menuListUrl":"./html/table_basic.html"
                                    }
                                  ],
                                  "menuGroupId": "0023fasf2fasd",
                                  "menuGroupName": "发布管理"
                                },
                                {
                                  "itemList": [
                                    {
                                      "menuListId": "453434344",
                                      "menuListName": "资源上传",
                                      "menuListStatus": "0",
                                      "menuListUrl":"./html/index_v1.html"
                                    },
                                    {
                                      "menuListId": "8956562344",
                                      "menuListName": "节目添加",
                                      "menuListStatus": "1",
                                      "menuListUrl":"./html/form_advanced.html"
                                    }
                                  ],
                                  "menuGroupId": "23451asf2fasd",
                                  "menuGroupName": "节目管理"
                                }
                              ],
                              "ReturnType": "1001"
                            }
                    */
                    
            });
        </script>
    </head>
    <body class="gray-bg">
        <div class="middle-box text-center loginscreen  animated fadeInDown">
            <div>
                <div>
                    <h1 class="logo-name">W T</h1>
                </div>
                <h3>我听，我享听</h3>
                <form class="m-t" role="form" action="javascript:;">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="用户名"value="zhangsan">
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" placeholder="密码" value="111111"
                    </div>
                    <button class="btn btn-primary block full-width m-b loginBtn">登 录</button>
                    <p class="text-muted text-center"><a href="#"><small>忘记密码了？</small></a> | <a href="./html/register.html">注册一个新账号</a></p>
                </form>
            </div>
        </div>
        <!-- 全局js -->
        <script src="./js/bootstrap.min.js"></script>
    </body>
</html>